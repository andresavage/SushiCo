<!DOCTYPE HTML>
<html>
	<head>
		<title>Newport Sushi Co</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="preconnect" href="https://db.onlinewebfonts.com" crossorigin />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet" />

	</head>

	<body class="homepage is-preload">
		<nav id="nav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li class="current"><a href="schedule.html">Schedule</a></li>
				<li><a href="menu.html">Menu</a></li>
				<li class="social-icons">
					<a href="https://www.facebook.com/people/Newport-Sushi-co/61574827383154/" target="_blank" aria-label="Facebook" class="social-icon"><i class="fab fa-facebook-f"></i></a>
					<a href="https://www.instagram.com/newportsushico/" target="_blank" aria-label="Instagram" class="social-icon"><i class="fab fa-instagram"></i></a>
				</li>
			</ul>
			<div class="nav-logo">
				<a href="index.html"><img src="sushi-logos/NewportSushiCo_Logo-03.png" alt="Newport Sushi Co"></a>
			</div>
			<a href="#navPanel" class="nav-toggle" id="nav-toggle" aria-label="Open menu" aria-expanded="false"><i class="fas fa-bars" aria-hidden="true"></i></a>
		</nav>

		<div id="page-wrapper">
			<section id="header">
			</section>

			<section class="schedule-section">
				<div style="height: 40px;"></div>

				<div class="simple-menu schedule-wrap">
					<div class="menu-section">
						<div class="schedule-header">
							<h2 class="menu-category">UPCOMING APPEARANCES</h2>
							<div class="schedule-view-toggle" role="tablist" aria-label="View mode">
								<button type="button" class="schedule-tab" data-view="list" aria-selected="false">List</button>
								<button type="button" class="schedule-tab active" data-view="calendar" aria-selected="true">Calendar</button>
							</div>
						</div>
						<div id="schedule-list" class="schedule-view schedule-view-list" hidden></div>
						<div id="schedule-calendar" class="schedule-view schedule-view-calendar active"></div>
					</div>
				</div>

				<div style="height: 40px;"></div>

				<div class="schedule-disclaimer"><em>All dates and times are subject to change</em></div>
			</section>
		</div>

		<div class="floating-buttons">
            <a href="index.html" class="floating-button">Home</a>
            <a href="menu.html" class="floating-button">Menu</a>
        </div>
	
		<!-- Schedule data: edit schedule.json, then run "python inline_schedule.py" to update this block -->
		<script type="application/json" id="schedule-data">[
  {
    "_example": true,
    "date": "Month DD, YYYY",
    "venue": "Venue Name",
    "location": "Address or leave empty",
    "time": "4pm–8pm"
  },
  { "date": "June 24, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "3pm–8pm" },
  { "date": "June 28, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "3pm–8pm" },
  { "date": "July 7, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "July 12, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "July 14, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "July 21, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "July 26, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "August 4, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "August 9, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "2pm–6pm" },
  { "date": "August 18, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "4pm–8pm" },
  { "date": "August 19, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "3pm–8pm" },
  { "date": "August 23, 2026", "venue": "Ragged Island Brewing", "location": "54 Bristol Ferry Rd., Portsmouth, RI 02871", "time": "12pm–6pm" }
]</script>
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
			(function() {
				var MONTH_NAMES = { january: 0, february: 1, march: 2, april: 3, may: 4, june: 5, july: 6, august: 7, september: 8, october: 9, november: 10, december: 11 };
				var MONTH_LABELS = ['January','February','March','April','May','June','July','August','September','October','November','December'];
				var DAY_LABELS = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

				function escapeHtml(s) {
					if (s == null || s === '') return '';
					var div = document.createElement('div');
					div.textContent = String(s);
					return div.innerHTML;
				}

				function parseDate(dateStr) {
					if (!dateStr || typeof dateStr !== 'string') return null;
					var parts = dateStr.split(',');
					if (parts.length < 2) return null;
					var left = parts[0].trim().split(/\s+/);
					var year = parseInt(parts[1].trim(), 10);
					if (left.length < 2 || isNaN(year)) return null;
					var monthName = left[0].toLowerCase();
					var day = parseInt(left[1], 10);
					if (!MONTH_NAMES.hasOwnProperty(monthName) || isNaN(day)) return null;
					var d = new Date(year, MONTH_NAMES[monthName], day);
					d.setHours(0, 0, 0, 0);
					return d;
				}

				function daysInMonth(y, m) {
					return new Date(y, m + 1, 0).getDate();
				}

				function renderList(upcoming, listEl) {
					if (!listEl) return;
					if (upcoming.length === 0) {
						listEl.innerHTML = '<div class="schedule-empty">No upcoming dates at the moment. Check back soon!</div>';
						return;
					}
					listEl.innerHTML = upcoming.map(function(e) {
						var venue = escapeHtml(e.venue || '');
						var location = (e.location && String(e.location).trim()) ? '<br>' + escapeHtml(e.location) : '';
						var time = escapeHtml(e.time || '');
						var date = escapeHtml(e.date || '');
						return '<div class="schedule-list-item">' +
							'<div class="schedule-list-date">' + date + '</div>' +
							'<div class="schedule-list-desc"><strong>' + venue + '</strong>' + location + '<br><em>' + time + '</em></div>' +
							'</div>';
					}).join('');
				}

				function renderCalendar(upcoming, calEl) {
					if (!calEl) return;
					if (upcoming.length === 0) {
						calEl.innerHTML = '<div class="schedule-empty">No upcoming dates at the moment. Check back soon!</div>';
						calEl.hidden = false;
						return;
					}
					var eventsByKey = {};
					var months = [];
					upcoming.forEach(function(e) {
						var d = parseDate(e.date);
						if (!d) return;
						var key = d.getFullYear() + '-' + d.getMonth();
						if (!eventsByKey[key]) {
							eventsByKey[key] = [];
							months.push({ year: d.getFullYear(), month: d.getMonth() });
						}
						eventsByKey[key].push({ date: d, event: e });
					});
					months.sort(function(a, b) {
						if (a.year !== b.year) return a.year - b.year;
						return a.month - b.month;
					});

					var html = '';
					months.forEach(function(m) {
						var key = m.year + '-' + m.month;
						var events = eventsByKey[key] || [];
						var first = new Date(m.year, m.month, 1);
						var startPad = first.getDay();
						var days = daysInMonth(m.year, m.month);

						html += '<div class="schedule-calendar-month">';
						html += '<h3 class="schedule-calendar-month-title">' + escapeHtml(MONTH_LABELS[m.month] + ' ' + m.year) + '</h3>';
						html += '<div class="schedule-calendar-grid" role="grid">';
						DAY_LABELS.forEach(function(label) {
							html += '<div class="schedule-calendar-cell schedule-calendar-head">' + label + '</div>';
						});
						var cellCount = startPad + days;
						var rows = Math.ceil(cellCount / 7);
						var totalCells = rows * 7;
						var eventsByDay = {};
						events.forEach(function(o) {
							var day = o.date.getDate();
							if (!eventsByDay[day]) eventsByDay[day] = [];
							eventsByDay[day].push(o.event);
						});
						for (var i = 0; i < totalCells; i++) {
							var isEmpty = i < startPad || i >= startPad + days;
							var dayNum = isEmpty ? '' : (i - startPad + 1);
							var dayEvents = eventsByDay[dayNum] || [];
							var cellClass = 'schedule-calendar-cell';
							if (isEmpty) cellClass += ' schedule-calendar-cell-empty';
							else cellClass += ' schedule-calendar-day';
							html += '<div class="' + cellClass + '">';
							if (dayNum !== '') html += '<div class="schedule-calendar-day-num">' + dayNum + '</div>';
							dayEvents.forEach(function(ev) {
								html += '<div class="schedule-calendar-event">' +
									'<span class="schedule-calendar-event-venue">' + escapeHtml(ev.venue || '') + '</span>' +
									'<span class="schedule-calendar-event-time">' + escapeHtml(ev.time || '') + '</span>' +
									'</div>';
							});
							html += '</div>';
						}
						html += '</div></div>';
					});
					calEl.innerHTML = html;
					calEl.hidden = false;
				}

				function run() {
					var el = document.getElementById('schedule-data');
					var data = [];
					if (el && el.textContent) {
						try { data = JSON.parse(el.textContent); } catch (e) {}
					}

					var today = new Date();
					today.setHours(0, 0, 0, 0);
					var list = Array.isArray(data) ? data : [];
					var upcoming = list.filter(function(e) {
						if (e && e._example) return false;
						if (!e || !e.date) return false;
						var eventDate = parseDate(e.date);
						return eventDate && eventDate >= today;
					});

					var listContainer = document.getElementById('schedule-list');
					var calContainer = document.getElementById('schedule-calendar');
					renderList(upcoming, listContainer);
					renderCalendar(upcoming, calContainer);

					document.querySelectorAll('.schedule-tab').forEach(function(btn) {
						btn.addEventListener('click', function() {
							var view = this.getAttribute('data-view');
							document.querySelectorAll('.schedule-tab').forEach(function(b) {
								b.classList.toggle('active', b.getAttribute('data-view') === view);
								b.setAttribute('aria-selected', b.getAttribute('data-view') === view ? 'true' : 'false');
							});
							listContainer.classList.toggle('active', view === 'list');
							calContainer.classList.toggle('active', view === 'calendar');
							listContainer.hidden = view !== 'list';
							calContainer.hidden = view !== 'calendar';
						});
					});
					listContainer.hidden = true;
					listContainer.classList.remove('active');
					calContainer.hidden = false;
					calContainer.classList.add('active');
				}

				if (document.readyState === 'loading') {
					document.addEventListener('DOMContentLoaded', run);
				} else {
					run();
				}
			})();
			</script>

	</body>
</html>